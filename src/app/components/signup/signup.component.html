<div class="row">
  <div class="col-2"></div>
  <div class="col-4">
    <form
      #signupForm="ngForm"
      (ngSubmit)="onSubmit(signupForm)"
      [mustMatch]="['password', 'repeatPassword']"
      novalidate="novalidate"
      autocomplete="off"
    >
      <div class="text-center mb-4">
        <h1 class="h3 my-3 font-weight-normal">
          COMPANY <i class="fas fa-angle-double-up text-success"></i>CRM
        </h1>
        <p>Sign up to use the app</p>
      </div>

      <div class="form-group mb-4">
        <input
          #emailF="ngModel"
          [(ngModel)]="form.email"
          name="email"
          required
          email
          [ngClass]="{ 'is-invalid': emailF.errors && emailF.touched }"
          type="email"
          placeholder="john@doe.com"
          id="email"
          class="form-control"
          autocomplete="username"
        />
        <div
          [hidden]="!(emailF.errors?.required || emailF.errors?.email)"
          class="invalid-feedback"
        >
          Valid email is required
        </div>
      </div>

      <div class="form-group mb-4">
        <input
          #passwordF="ngModel"
          [(ngModel)]="form.password"
          name="password"
          required
          [ngClass]="{ 'is-invalid': passwordF.errors && passwordF.touched }"
          type="password"
          placeholder="enter your password"
          id="password"
          class="form-control"
          autocomplete="current-password"
        />
        <div [hidden]="!passwordF.errors?.required" class="invalid-feedback">
          Password is required
        </div>
      </div>

      <div class="form-group mb-4">
        <input
          #repeatPasswordF="ngModel"
          [(ngModel)]="form.repeatPassword"
          name="repeatPassword"
          required
          [ngClass]="{
            'is-invalid':
              repeatPasswordF.errors?.mustMatch && repeatPasswordF.dirty
          }"
          type="password"
          placeholder="confirm password"
          id="repeatPassword"
          class="form-control"
          autocomplete="current-password"
        />
        <div
          [hidden]="
            !(repeatPasswordF.errors?.mustMatch && repeatPasswordF.dirty)
          "
          class="invalid-feedback"
        >
          Passwords does not match
        </div>
      </div>

      <button
        [disabled]="
          repeatPasswordF.errors?.mustMatch || signupForm.form.invalid
        "
        class="btn btn-lg btn-primary btn-block"
        type="submit"
      >
        Sign up
      </button>
    </form>

    <p class="mt-5 mb-3 text-muted text-center">&copy; 2019-2020</p>
  </div>
</div>

<!-- <pre>
 passwordF.value: {{ passwordF.value | json }}
 repeatPasswordF.value: {{ repeatPasswordF.value | json }}
 passwordF.errors: {{ passwordF.errors | json }}
 repeatPasswordF.errors: {{ repeatPasswordF.errors | json }}
</pre> -->
